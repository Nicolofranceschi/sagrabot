{"version":3,"sources":["Sale/styled.js","Sale/index.jsx","App.jsx","serviceWorkerRegistration.js","index.jsx","Editor/Styled.jsx","useWindowSize.js","Editor/PixelSettings.jsx","Editor/index.jsx","useLocalStorage.js"],"names":["Container","styled","motion","div","TextAlert","svg","h2","Grid","Editor","lazy","getHeight","length","height","Sale","items","useWindowSize","width","style","overflow","position","whileTap","cursor","y","scrollY","drag","dragConstraints","top","bottom","map","e","fallback","backgroundColor","borderRadius","opacity","idlocalestorage","App","AnimateSharedLayout","type","path","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","scope","err","ReactDOM","render","document","getElementById","URL","process","href","origin","addEventListener","fetch","headers","response","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration","attrs","props","gridSize","gridTemplateColumns","pixelSize","gridTemplateRows","Pixelstyle","rotation","border","pixelColor","selectedColor","BottomPopup","marginBottom","Action","Positiondiv","Svg","InfoText","h3","Infodiv","Icon","Text","SelezionaOggetto","Quadrato","Tavolo","PixelTavolo","OnlyTavolo","Posto","PixelRotation","HoverablePixelTavolo","useState","windowSize","setWindowSize","useEffect","handleResize","body","getElementsByTagName","clientWidth","clientHeight","removeEventListener","Svg0","Svg180","BorderBox","BorderBoxPartial","BorderBoxOne","BorderBoxTwo","LinearBox","PixelSettings","onClickLeft","onClickRight","borderYes","borderNo","borderPartial","borderOne","borderTwo","onClick","xmlns","viewBox","d","Pixel","Tools","cellsNumber","cells","Array","rotatePixel","key","getxy","i","Math","trunc","x","initialValue","item","localStorage","getItem","JSON","parse","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","useLocalStorage","storage","setStorage","selected","setSelected","initialGridSize","setSize","color","setStyle","toast","info","autoClose","closeOnClick","draggable","doubleClickedIndex","setDoubleClickedIndex","DrawingGrid","useRef","usePinch","vdva","currentGridSize","domTarget","eventOptions","passive","catchKeyEvent","useCallback","preventDefault","pixelClicked","select","catchUIEvent","borderBox","pixel","current","grid","useMemo","_","onSelect","onDoubleClick","hideProgressBar","newestOnTop","rtl","pauseOnFocusLoss","pauseOnHover","ref","tabIndex","onKeyDown","Loading"],"mappings":"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","file":"static/js/main.cadb1508.chunk.js","sourcesContent":["import styled from \"styled-components\";\nimport { motion } from \"framer-motion\";\n\nexport const Container = styled(motion.div)`\n  height: 90vh;\n  bottom:0;\n  width: 100vw;\n  border-radius: 20px;\n  overflow: hidden;\n  position: absolute;\n  cursor: grab;\n`;\n\nexport const Utente = styled(motion.div)`\n  height: 90vh;\n  width: 100vw;\n  border-radius: 3em 3em 0 0;\n  z-index:200;\n  overflow: hidden;\n  position: absolute;\n  background-color: white;\n  cursor: grab;\n`;\n\nexport const Svgpiu = styled.svg`\n  top : 0;\n  right: 40px;\n  z-index: 10;\n  padding-right: 20px;\n  height: 10vh;\n  width: 40px;\n  border-radius: 20px;\n  overflow: hidden;\n  position: absolute;\n  stroke: white;\n  &:hover {\n  height: 10vh;\n  width: 55px;\n  \n  }\n`;\nexport const Svgmap = styled.svg`\n  top : 0;\n  right: 80px;\n  z-index: 10;\n  padding-right: 20px;\n  height: 10vh;\n  width: 40px;\n  border-radius: 20px;\n  overflow: hidden;\n  position: absolute;\n  stroke: white;\n  &:hover {\n  height: 10vh;\n  width: 55px;\n  \n  }\n`;\n\nexport const Svgout = styled.svg`\n  top : 0;\n  right: 0;\n  padding-right: 20px;\n  height: 10vh;\n  width: 40px;\n  border-radius: 20px;\n  overflow: hidden;\n  position: absolute;\n  stroke: white;\n  &:hover {\n  height: 10vh;\n  width: 55px;\n  }\n`;\n\nexport const TextAlert = styled.h2`\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left:0;\n  transform: translate(0,-50%);\n  text-align: center;\n  width:100vw;\n  height: 10vh;\n  color: var(--main);\n`;\n\nexport const Grid = styled(motion.div)`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-auto-rows: 50vh;\n  gap: 20px;\n  padding: 20px;\n  @media only screen and (min-width: 768px) {\n    grid-template-columns: 1fr 1fr;\n  }\n`;","import { useWindowSize } from \"../useWindowSize\";\nimport { lazy, Suspense, useEffect, useState } from \"react\";\nimport { useMotionValue, useTransform } from \"framer-motion\";\nimport { Pop, Container, Svgpiu , Svgout ,Svgmap , Utente , TextAlert, Grid } from './styled';\n\nconst Editor = lazy(() => import('../Editor'));\n\nfunction getHeight(length, height) {\n    const totalScroll = length * height / 2;\n    return totalScroll;\n  }\n\nexport default  function Sale  () {\n\nconst items = [\"selected_pixels\",\"add\"];\n\nconst { width , height } = useWindowSize();\n\nreturn(\n    <div style={{ overflow: 'hidden', height: '100vh', position: 'relative' }}>\n    <Container whileTap={{ cursor: \"grabbing\" }}>\n    <Grid\n      style={{\n        width,\n        height: getHeight(width < 768 ? length : length / 2, height),\n        y: scrollY\n      }}\n      drag=\"y\"\n      dragConstraints={{\n        top: -getHeight(width < 768 ? length : length / 2, height),\n        bottom: 0\n      }}\n    >\n      { items.length > 0\n        ? items.map((e) => (\n            e == \"add\" ? ( \n            <TextAlert>AGGIUNGI SALE</TextAlert>\n            //div che aggiunge un local storage nuovo\n            ) \n            : (\n         <Suspense key={e} fallback={<div style={{ width: '100%', height: '100%', backgroundColor: 'white', borderRadius: '20px', opacity: 0.7 }} />}>\n            <Editor idlocalestorage={e} />\n          </Suspense>\n          )\n        ))\n        : (\n        <>\n        <TextAlert>AGGIUNGI SALE</TextAlert>\n        </>\n        )\n      }\n    </Grid>\n  </Container>\n  </div>\n);\n\n}","import React from \"react\";\nimport \"./index.css\";\nimport Editor from \"./Editor\";\nimport Sale from \"./Sale\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { AnimateSharedLayout } from 'framer-motion';\nimport { Route, Switch } from 'react-router';\n\nfunction App() {\n  return (\n    <AnimateSharedLayout type=\"crossfade\">\n    <Switch>\n      <Route path=\"/editor\">\n      <Editor />\n      </Route>\n      <Route path=\"/\">\n        <Sale/>\n      </Route>\n    </Switch>\n  </AnimateSharedLayout>\n    \n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n\nif (\"serviceWorker\" in navigator) {\n  navigator.serviceWorker\n    .register(\"./firebase-messaging-sw.js\")\n    .then(function(registration) {\n      console.log(\"Registration successful, scope is:\", registration.scope);\n    })\n    .catch(function(err) {\n      console.log(\"Service worker registration failed, error:\", err);\n    });\n}\n\n\n","\nimport { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport './index.css';\n\n\nReactDOM.render(\n  <StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorkerRegistration.register();\n","\nimport styled from 'styled-components';\nimport { motion } from \"framer-motion\";\n\nexport const Container = styled.div`\n  height: 100vh;\n  width: 100vw;\n  overflow: auto;\n  -ms-overflow-style: none;  /* IE and Edge */\n  scrollbar-width: none;  /* Firefox */\n  ::-webkit-scrollbar {\n    display: none;\n  }\n`;\n\nexport const Grid = styled.div.attrs(props => ({\n  style: {\n    height: `${props.gridSize}px`,\n    width: `${props.gridSize}px`,\n    gridTemplateColumns: `repeat(100, ${props.pixelSize}px)`,\n    gridTemplateRows: `repeat(100, ${props.pixelSize}px)`,\n  },\n}))`\n  background-color: var(--black-light);\n  display: grid;\n`;\n\nexport const Pixelstyle = styled.div`\n  border: 1px solid var(--line);\n  box-sizing: border-box;\n  height: 100%;\n  cursor: pointer;\n  transform: rotate( ${({ rotation }) => rotation ?? '0'}deg);\n  border-radius: ${({ border }) => border ?? '0px'};\n  background-color: ${({ pixelColor }) => pixelColor ?? 'var(--black-light)'};\n  :hover {\n    background-color: ${({ selectedColor }) => selectedColor ?? 'white'};\n  }\n`;\n\nexport const BottomPopup = styled(motion.div)`\n  width: ${props => props.width};\n  height: ${props => props.height};\n  background: white;\n  position: absolute;\n  border-radius: 20px 20px 0 0;\n  z-index: 50;\n  margin-top: ${({ marginBottom }) => marginBottom ? `${-marginBottom}px` : 0};\n  bottom: ${({ bottom }) => bottom ? `${bottom}px` : 0};\n  @media (min-width: 768px) {\n    border-radius: 20px;\n    top: 20px;\n    right: 20px;  \n  }\n`;\n\nexport const Action = styled.div`\n  position: relative;\n  top : 0;\n  right : 0;\n  width: 100%;\n  height: 50px;\n`;\n\nexport const Positiondiv = styled.div`\n  position: relative;\n  margin-top : 20px;\n  padding-left: 5%;\n`;\n\nexport const Svg = styled.svg`\n  position: absolute;\n  top : 10px;\n  right : 10px;\n  height: 30px;\n  width: 30px;\n  stroke: var(--medium-gray);\n  :hover {\n    stroke: var(--black-light);\n  }\n`;\n\nexport const InfoText = styled.h3`\n  padding-bottom: 10px;\n  color:var(--medium-gray);\n`;\n\nexport const Infodiv = styled.div`\n  height: 50px;\n  width: 100vw;\n  background-color: var(--medium-gray);\n  display: flex;\n  flex-direction: row;\n  border-radius: 20px 20px 0 0;\n  opacity: 0.5;\n  line-height: 50px;\n  text-align: center;\n  svg{\n    position: relative;\n    top : 10px;\n    height: 30px;\n    width: 30px;\n    stroke: var(--black-light);\n  }\n`;\n\nexport const Icon = styled.div`\n  height: 50px;\n  width: 50px;\n  padding-left:5px;\n`;\n\nexport const Text = styled.h3`\n  color:var(--black-light);\n`;\n\nexport const SelezionaOggetto = styled.div`\n  height: 20%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  position: relative;\n`;\n\nexport const Quadrato = styled.div`\n  height: 50px;\n  width: 50px;\n  margin-right: 5%;\n  border-radius: 5px 5px 5px 5px;\n  border: 1px solid var(--line);\n  background-color: var(--black-light);\n  :hover{\n    transform: scale(1.08);\n  }\n`;\nexport const Tavolo = styled.div`\n  height: 50px;\n  width: 50px;\n  display: flex;\n  flex-direction: row;\n  svg {\n    height: 100%;\n    width: 50%;\n  }\n  :hover {\n    transform: scale(1.08);\n  }\n\n`;\nexport const PixelTavolo = styled.div`\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  transform: rotate(${({ rotation }) => rotation ?? '0'}deg);\n  border-radius: ${({ border }) => border ?? '0px'};\n  :hover > div {\n    background-color: ${({ selectedColor }) => selectedColor ?? 'white'};\n  }\n  svg { width: 50%; }\n  :hover > svg {\n    /* TODO */\n  }\n`;\n\nexport const OnlyTavolo = styled.div`\n  height: 100%;\n  border-radius: ${({ border }) => border ?? '0px'};\n  flex-grow: 1;\n  border: 1px solid var(--line);\n  box-sizing: border-box;\n  background-color: ${({ pixelColor }) => pixelColor ?? 'var(--black-light)'};\n`;\n\nexport const Posto = styled.div`\n  height: 50px;\n  width: 25px;\n  border-radius: 5px 5px 5px 5px;\n  background-color: var(--black-light);\n`;\n\nexport const PixelRotation = styled.div`\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  top:10px;\n  left:10px;\n  height: 50px;\n  width: 300px;\n  border-radius: 20px;\n  backdrop-filter: blur(30px);\n  z-index:10;\n`;\n\nexport const HoverablePixelTavolo = styled(PixelTavolo)`\n  svg {\n    width: 0;\n    height: 0;\n  }\n  :hover > svg {\n    width: 50%;\n    height: 100%;\n  }\n`;","import { useState, useEffect } from \"react\";\n\nexport function useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: 0,\n    height: 0\n  });\n  useEffect(() => {\n    function handleResize() {\n      const body = document.getElementsByTagName(\"body\")[0];\n      setWindowSize({\n        width: body.clientWidth,\n        height: body.clientHeight\n      });\n    }\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  return windowSize;\n}\n","\nimport { PixelRotation } from \"./Styled.jsx\";\n\nimport styled from 'styled-components';\n\nconst Svg0 = styled.svg`\n  margin:  15px 10px 15px 15px;\n  height:20px;\n  width:20px;\n  stroke: white;\n  fill: white;\n  transform: rotate(0deg);\n  :hover{\n    transform: rotate(-30deg);\n  }\n`;\n\nconst Svg180 = styled.svg`\n  margin:  15px 10px 15px 15px;\n  height:20px;\n  width:20px;\n  stroke: white;\n  fill: white;\n  transform: rotate(180deg);\n  :hover{ \n    transform: rotate(150deg);\n  }\n`;\n\nconst BorderBox = styled.div`\n  margin:  15px 10px 15px 15px;\n  border-radius: 5px;\n  height:20px;\n  width:20px;\n  background-color: white;\n  :hover{ \n    transform: scale(1.2);\n  }\n`;\n\nconst BorderBoxPartial = styled.div`\n  margin:  15px 10px 15px 15px;\n  border-radius: 0px 5px 5px 0px;\n  height:20px;\n  width:20px;\n  background-color: white;\n  :hover{ \n    transform: scale(1.2);\n  }\n`;\n\nconst BorderBoxOne = styled.div`\n  margin:  15px 10px 15px 15px;\n  border-radius: 0px 0px 5px 0px;\n  height:20px;\n  width:20px;\n  background-color: white;\n  :hover{ \n    transform: scale(1.2);\n  }\n`;\n\nconst BorderBoxTwo = styled.div`\n  margin:  15px 10px 15px 15px;\n  border-radius: 0px 5px 0px 0px;\n  height:20px;\n  width:20px;\n  background-color: white;\n  :hover{ \n    transform: scale(1.2);\n  }\n`;\n\nconst LinearBox = styled.div`\n  margin:  15px 10px 15px 15px;\n  height:20px;\n  width:20px;\n  background-color: white;\n  :hover{ \n    transform: scale(1.2);\n  }\n`;\n\n\nexport default function PixelSettings ({onClickLeft, onClickRight, borderYes, borderNo, borderPartial, borderOne, borderTwo}) {\n  \n  return (\n  <PixelRotation>\n    <Svg0 onClick={onClickLeft} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 261.25 261.25\"  >\n    <path d=\"M231.385,39C250.293,62.087,261,91.278,261,121.75c0,71.958-58.542,130.5-130.5,130.5S0,193.708,0,121.75\n      c0-35.358,13.911-68.463,39.17-93.215c5.917-5.798,15.414-5.701,21.212,0.216s5.701,15.413-0.216,21.212\n      C40.713,69.025,30,94.52,30,121.75c0,55.416,45.084,100.5,100.5,100.5s100.333-45.084,100.333-100.5\n      c0-21.763-6.916-42.675-19.916-59.781V74c0,8.284-6.716,15-15,15s-15-6.716-15-15V24.006c0-0.002,0-0.004,0-0.004\n      C180.917,15.716,187.966,9,196.25,9h50c8.284,0,15,6.716,15,15s-6.716,15-15,15H231.385z\"/>\n    </Svg0>\n    <Svg180 onClick={onClickRight} xmlns=\"http://www.w3.org/2000/svg\"  viewBox=\"0 0 261.25 261.25\"  >\n    <path d=\"M231.385,39C250.293,62.087,261,91.278,261,121.75c0,71.958-58.542,130.5-130.5,130.5S0,193.708,0,121.75\n      c0-35.358,13.911-68.463,39.17-93.215c5.917-5.798,15.414-5.701,21.212,0.216s5.701,15.413-0.216,21.212\n      C40.713,69.025,30,94.52,30,121.75c0,55.416,45.084,100.5,100.5,100.5s100.333-45.084,100.333-100.5\n      c0-21.763-6.916-42.675-19.916-59.781V74c0,8.284-6.716,15-15,15s-15-6.716-15-15V24.006c0-0.002,0-0.004,0-0.004\n      C180.917,15.716,187.966,9,196.25,9h50c8.284,0,15,6.716,15,15s-6.716,15-15,15H231.385z\"/>\n    </Svg180>\n    <BorderBox onClick={borderYes}></BorderBox>\n    <BorderBoxPartial onClick={borderPartial}></BorderBoxPartial>\n    <BorderBoxOne onClick={borderOne}></BorderBoxOne>\n    <BorderBoxTwo onClick={borderTwo}></BorderBoxTwo>\n    <LinearBox onClick={borderNo}></LinearBox>\n  </PixelRotation>\n);\n\n}\n\n\n","import { useRef, useState, lazy, Suspense, useCallback, useMemo, useEffect } from \"react\";\nimport { usePinch } from 'react-use-gesture';\nimport { useWindowSize } from \"../useWindowSize.js\";\nimport { Container, Grid } from \"./Styled.jsx\";\nimport PixelSettings from \"./PixelSettings\";\nimport useLocalStorage from \"../useLocalStorage.js\";\nimport { ToastContainer, toast } from 'react-toastify';\n\nconst Pixel = lazy(() => import('./Pixel'));\nconst Tools = lazy(() => import('./Tools'));\n\nconst initialGridSize = 5000;\nconst cellsNumber = 100;\nconst cells = [...Array(cellsNumber ** 2)];\n\nconst rotatePixel = (key, rotation) => {\n  switch (key) {\n    case 'ArrowLeft': return rotation - 45;\n    case 'ArrowRight': return rotation + 45;\n    case 'ArrowUp':\n    case 'ArrowDown':\n      return rotation + 180;\n    default: return rotation;\n  }\n}\n\nconst getxy = i => {\n  const y = Math.trunc(i/cellsNumber);\n  const x = i - (cellsNumber*y)\n  return { x, y }\n\n}\nexport default function Editor({idlocalestorage}) {\n  \n  console.log(idlocalestorage)\n  const [storage, setStorage] = useLocalStorage(idlocalestorage, \"{}\");\n  const [selected, setSelected] = useState(storage);\n  const [[gridSize, pixelSize], setSize] = useState([initialGridSize, initialGridSize / cellsNumber]);\n  const [{ color, type }, setStyle] = useState({\n    color: \"white\",\n    type: 0\n  });\n  \n  useEffect(()=>{\n    setStorage(selected);},[selected])\n  \n  useEffect(()=>{\n    toast.info(\"Autosave enable\", {\n      position: \"top-right\",\n      autoClose: 2000,\n      closeOnClick: true,\n      draggable: true,\n    });\n  },[])\n  \n  const [doubleClickedIndex, setDoubleClickedIndex] = useState(null);\n  \n  const DrawingGrid = useRef(null);\n  const { height , width }  = useWindowSize();\n  \n  usePinch(({ vdva }) => {\n    setSize(([currentGridSize]) => {\n      if( width < currentGridSize + vdva[0] * 50 && height < currentGridSize + vdva[0] * 50 ){\n        const newGridSize = currentGridSize + vdva[0] * 50;\n        return [newGridSize, gridSize / cellsNumber];\n      }else{\n        return [currentGridSize, gridSize / cellsNumber];\n      }\n    });\n  }, {\n    domTarget: DrawingGrid,\n    eventOptions: { passive: false },\n  });\n  \n  const catchKeyEvent = useCallback((e) => {\n    e?.preventDefault();\n     if (doubleClickedIndex === null || !selected[doubleClickedIndex]) return;\n     else {\n       const { rotation, ...pixelClicked } = selected[doubleClickedIndex];\n       select(doubleClickedIndex, { ...pixelClicked, rotation: rotatePixel(e.key, rotation) });\n     };\n   },[doubleClickedIndex,selected[doubleClickedIndex]?.rotation])\n\n   const catchUIEvent = useCallback((e) => {\n      if (doubleClickedIndex === null || !selected[doubleClickedIndex]) return;\n      else {\n        const { rotation, ...pixelClicked } = selected[doubleClickedIndex];\n        select(doubleClickedIndex, { ...pixelClicked, rotation: rotatePixel(e.key, rotation) });\n      };\n    },[doubleClickedIndex,selected[doubleClickedIndex]?.rotation])\n\n    const borderBox = useCallback((e) => {\n      if (doubleClickedIndex === null || !selected[doubleClickedIndex]) return;\n      else {\n        const { border, ...pixelClicked } = selected[doubleClickedIndex];\n        select(doubleClickedIndex, { ...pixelClicked, border: e.key });\n      };\n    },[doubleClickedIndex,selected[doubleClickedIndex]?.border])\n\n\n  const select = useCallback((i, pixel) => setSelected(current => ({ ...current, [i]: pixel }) ), []);\n  const grid = useMemo(() => cells.map((_, i) => <Pixel key={i} {...{ i, type, color, getxy }} selected={selected[i]} onSelect={select} onDoubleClick={setDoubleClickedIndex} />), [selected, type, color]);\n  \n  return (\n    <Suspense fallback={<Loading />}>\n      <ToastContainer\n        position=\"bottom-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n    />\n      <Container ref={DrawingGrid}>\n        <Grid gridSize={gridSize} pixelSize={pixelSize} tabIndex={0} onKeyDown={catchKeyEvent}>\n          {grid}\n        </Grid>\n      </Container>\n      <Tools {...{ setStyle, type, color }} />\n      <PixelSettings onClickLeft={() => catchUIEvent({ key: 'ArrowLeft' })} onClickRight={() => catchUIEvent({ key: 'ArrowRight' })} borderYes={() => borderBox({ key: \"20px\" })} borderNo={() => borderBox({ key: \"0px\" })}  borderPartial={() => borderBox({ key: \"0px 10px 10px 0px\" })} borderOne={() => borderBox({ key: \"0px 0px 10px 0px\" })} borderTwo={() => borderBox({ key: \"0px 10px 0px 0px\" })}/>\n    </Suspense>\n  );\n}\n\nconst Loading = () => <span>Loading...</span>;","import { useState } from 'react';\nexport default function useLocalStorage(key, initialValue) {\n\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.log(error);\n      return initialValue;\n    }\n  });\n  \n  const setValue = (value) => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  return [storedValue, setValue];\n}"],"sourceRoot":""}